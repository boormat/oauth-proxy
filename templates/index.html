{% extends 'base.html' %}

{% block content %}
<div class="content">
	<div class="page-header">
		<h1>foauth.org: OAuth for one</h1>
	</div>
	<div class="row">
		<div class="span16">
			<p><a href="http://oauth.net/">OAuth</a> is a great idea for interaction between big sites with lots of users. But, as one of those users, it&rsquo;s a pretty terrible way to get at your own data. That&rsquo;s where foauth.org comes in, giving you access to these services in three easy steps:</p>
		</div>
	</div>
	<ol class="row">
		<li class="span8">
			<h2>Activate your services</h2>
			{% if current_user.is_authenticated() %}
			<p>You&rsquo;ve already authorized {{ current_user.keys.count() }} service{% if current_user.keys.count() != 1 %}s{% endif %}, why not <a href="{{ url_for('services') }}">add more</a>?</p>
			{% else %}
			<p>This only takes a couple clicks if you&rsquo;re already logged in with them. Here are just a few of the <a href="{{ url_for('services') }}">{{ service_count }} services we support</a>.</p>
			<table class="services condensed-table">
				<tr>
					<td><img class="favicon" src="https://getfavicon.appspot.com/https://www.twitter.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dwww.twitter.com"> Twitter</td>
					<td><img class="favicon" src="https://getfavicon.appspot.com/https://www.facebook.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dwww.facebook.com"> Facebook</td>
					<td><img class="favicon" src="https://getfavicon.appspot.com/http://www.meetup.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dwww.meetup.com"> Meetup</td>
				</tr>
				<tr>
					<td><img class="favicon" src="https://getfavicon.appspot.com/http://instagram.com?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dinstagram.com"> Instagram</td>
					<td><img class="favicon" src="https://getfavicon.appspot.com/http://www.flickr.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dwww.flickr.com"> Flickr</td>
					<td><img class="favicon" src="https://getfavicon.appspot.com/http://vimeo.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dvimeo.com"> Vimeo</td>
				</tr>
				<tr>
					<td><img class="favicon" src="https://getfavicon.appspot.com/https://github.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dgithub.com"> GitHub</td>
					<td><img class="favicon" src="https://getfavicon.appspot.com/https://bitbucket.org/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dbitbucket.org"> Bitbucket</td>
					<td><img class="favicon" src="https://getfavicon.appspot.com/https://www.dropbox.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dwww.dropbox.com"> Dropbox</td>
				</tr>
				<tr>
					<td><img class="favicon" src="https://getfavicon.appspot.com/http://google.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dgoogle.com"> Google</td>
					<td><img class="favicon" src="https://getfavicon.appspot.com/http://www.yahoo.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dwww.yahoo.com"> Yahoo!</td>
					<td><img class="favicon" src="https://getfavicon.appspot.com/https://www.live.com/?defaulticon=https%3A//www.google.com/s2/favicons%3Fdomain%3Dwww.live.com"> LiveConnect</td>
				</tr>
			</table>
			{% endif %}
		</li>
		<li class="span16">
			<h2>Access your own data</h2>
			<p>Write your own programs to access your data, using HTTP Basic authen&shy;tication, which is much easier to deal with. Most program&shy;ming languages have built-in support for it, and we don&rsquo;t even care which one you use. Sure, <a href="{{ url_for('about') }}">we love Python</a>, but it&rsquo;s okay if you don&rsquo;t.</p>
			<pre>>>> import <a href="https://github.com/kennethreitz/requests">requests</a>
>>> auth = 'email@example.com', 'password'
>>> data = {'status': "Just signed up with https://foauth.org/ and it's awesome! Thanks <a href="https://twitter.com/gulopine">@Gulopine</a>!"}
>>> requests.post('http{% if request.is_secure %}s{% endif %}://{{ request.host }}/<a href="https://dev.twitter.com/docs/api/1.1/post/statuses/update">api.twitter.com/1.1/statuses/update.json</a>', data=data, auth=auth)
>>> r = requests.get('http{% if request.is_secure %}s{% endif %}://{{ request.host }}/<a href="https://dev.twitter.com/docs/api/1.1/get/statuses/user_timeline">api.twitter.com/1.1/statuses/user_timeline.json</a>', auth=auth)
>>> r.json()[0]['text']
"Just signed up with https://foauth.org/ and it's awesome! Thanks <a href="https://twitter.com/gulopine">@Gulopine</a>!"</pre>
		</li>
	</ol>
</div>
{% endblock %}
